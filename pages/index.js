import { useEffect, useState } from "react";
import Head from "next/head";

import SliderH from "../components/index/slider";

export default function Home() {
  const [height, setHeight] = useState(0);
  const [width, setWidth] = useState(0);

  useEffect(() => {
    let heightNav = 16 * 3;
    let heightDom = innerHeight;
    setHeight(heightDom - heightNav);
    setWidth(innerWidth);
  }, []);

  const scrollY = () => {
    let heightNav = 16 * 3;
    let heightDom = innerHeight;
    let heightActual = heightDom - heightNav;

    window.scroll(0, heightActual);

    setHeight(heightActual);
  };

  return (
    <div style={{ width: "100vw" }}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <header className="slider-1" style={{ height: height + "px" }}>
        <div className="slider-1__principal">
          <h1>
            ULTRA
            <br />
            BODEGON
          </h1>
        </div>
        <p onClick={scrollY}>&#5167;</p>
      </header>
      <div
        style={{
          width: "100%",
          height: height + "px",
        }}
      >
        <SliderH height={height} width={width} />
      </div>
      <style jsx>{`
        .slider-1 {
          background: #333;
          color: #fff;
          display: grid;
          grid-template-areas: "principal" "contacto";
          grid-template-columns: 1fr;
          grid-template-rows: auto 4rem;
        }

        .slider-1__principal {
          align-items: center;
          display: flex;
          justify-content: center;
          text-align: center;
        }

        .slider-1 > h1 {
          font-size: 2.5rem;
          text-align: center;
        }

        .slider-1 > p {
          animation-delay: 0.5s;
          animation-duration: 3s;
          animation-iteration-count: 3;
          animation-name: flecha;
          bottom: 5%;
          cursor: pointer;
          font-size: 3rem;
          left: 50%;
          margin-block-end: 0;
          margin-block-start: 0;
          position: absolute;
          text-align: center;
          transform: translateX(-50%);
          user-select: none;
        }

        @keyframes flecha {
          0% {
            bottom: 5%;
          }

          50% {
            bottom: 8%;
          }

          100% {
            bottom: 5%;
          }
        }

        .slider-3 {
          align-items: center;
          display: flex;
          justify-content: center;
        }
      `}</style>
    </div>
  );
}
